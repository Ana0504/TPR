{% extends 'main/layout.html' %}

{% block title %}ТПР лаб 6{% endblock %}

{% block subject %}ТПР{% endblock %}

{% block labs %}{% include 'main/tpr/tprlabsLinks.html' %}{% endblock %}

{% block script %}
<link rel="stylesheet" href="../static/main/css/tpr6.css" type="text/css">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-bundle.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-exports.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.anychart.com/releases/8.11.0/css/anychart-ui.min.css" />

<script>
    function decodeHtml(data) {
        var test = data.replace(new RegExp("&"+"#"+"x27;", "g"), "")
        return test;
    }

    google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(drawLineChart);
    var globData = [['2021-09-01',	56240,	57670,	55650,	57000,	1061509],
['2021-09-02',	57250,	57730,	56300,	56360,	709017],
['2021-09-03',	56500,	57380,	55920,	57330,	525282],
['2021-09-06',	57400,	58600,	57270,	58040,	382579],
['2021-09-07',	58100,	58290,	56890,	56910,	618931],
['2021-09-08',	56880,	57600,	56470,	57130,	543506],
['2021-09-09',	57010,   57660,	56420,	57350,	411425],
['2021-09-10',	57460,	58960,	57080,	58680,	450366],
['2021-09-13',	58930,	59480,	58170,	59390,	513262],
['2021-09-14',	59420,	59890,	58720,	59730,	533537],
['2021-09-15',	59710,	59900,	58620,	58920,	504454],
['2021-09-16',	58940,	59860,	58660,	58720,	659483],
['2021-09-17',	58840,	59250,	58260,	58280,	543387],
['2021-09-20',	58270,	58770,	57670,	57850,	494076],
['2021-09-21',	58080,	58390,	57260,	57720,	379725],
['2021-09-22',	57820,	57970,	57220,	57550,	382770],
['2021-09-23',	57550,	58900,	57350,	58850,	354430],
['2021-09-24',	58900,	58900,	57860,	58500,	272481],
['2021-09-27',	58510,	59800,	58310,	59490,	694533],
['2021-09-28',	59490,	59650,	57500,	57880,	509369],
['2021-09-29',	57900,	58800,	57410,	57620,	351585],
['2021-09-30',	57700,	58490,	57310,	58050,	501002],
['2021-10-01',	57740,	58440,	57450,	57660,	334023],
['2021-10-04',	57650,	57750,	54330,	55040,	937249],
['2021-10-05',	54730,	56400,	54640,	55940,	930282],
['2021-10-06',	55920,	56990,	55000,	56940,	764711],
['2021-10-07',	56950,	57680,	56500,	57050,	756213],
['2021-10-08',	57000,	57300,	56390,	57020,	498047],
['2021-10-11',	57030,	57370,	55880,	56220,	446168],
['2021-10-12',	56070,	56540,	55450,	55490,	491568],
['2021-10-13',	55600,	56290,	55250,	55540,	483838],
['2021-10-14',	55820,	56190,	54920,	55180,	578126],
['2021-10-15',	55350,	55460,	54000,	54270,	589950],
['2021-10-18',	54030,	54890,	53820,	54890,	349478],
['2021-10-19',	54950,	55400,	54310,	54800,	498543],
['2021-10-20',	54810,	55260,	54050,	54200,	414060],
['2021-10-21',	54160,	54490,	53700,	53900,	364841],
['2021-10-22',	53920,	54350,	53090,	53260,	444860],
['2021-10-25',	53410,	54220,	53190,	53830,	429465],
['2021-10-26',	54160,	54320,	52840,	53100,	440939],
['2021-10-27',	53150,	56290,	52410,	55740,	1334260],
['2021-10-28',	55580,	58720,	55420,	58230,	1468815],
['2021-10-29',	58080,	59140,	57420,	58790,	1104111],
['2021-11-01',	58690,	59470,	57670,	58900,	575423],
['2021-11-02',	58910,	59740,	58660,	59420,	434415],
['2021-11-03',	59400,	60470,	58800,	60270,	552118],
['2021-11-05',	60270,	61450,	59640,	61200,	794367],
['2021-11-08',	61480,	62170,	60800,	61610,	625313],
['2021-11-09',	61490,	61880,	59810,	59900,	474570],
['2021-11-10',	59910,	60570,	58470,	58580,	554560],
['2021-11-11',	58850,	60250,	58430,	59670,	457431],
['2021-11-12',	59670,	60240,	58360,	59700,	870653],
['2021-11-15',	59700,	60460,	58940,	59280,	498364],
['2021-11-16',	59270,	59620,	58760,	59360,	391602],
['2021-11-17',	59300,	59580,	58700,	59320,	317165],
['2021-11-18',	59250,	59960,	58940,	59940,	323139],
['2021-11-19',	60000,	61500,	59160,	59690,	668218],
['2021-11-22',	59830,	60490,	53400,	54500,	2336930],
['2021-11-23',	54300,	56600,	53720,	55710,	1531834],
['2021-11-24',	55940,	56400,	54350,	55420,	1007009],
['2021-11-25',	55650,	56400,	55260,	55530,	339351],
['2021-11-26',	54160,	55300,	53160,	53800,	1248733],
['2021-11-29',	53960,	55290,	53330,	54070,	1150358],
['2021-11-30',	53530,	55100,	52610,	53590,	1632445],
['2021-12-01',	54120,	54590,	53300,	53310,	616813],
['2021-12-02',	53380,	54130,	51850,	52550,	954482]];
    //роснефть
//     var globData = [['ROSN',	2021-09-01,	536,	542,	535,	542,	4941116],
// ['2021-09-02',	542,	556,	538,	551,	10439019],
// ['2021-09-03',	552,	557,	550,	555,	5482506],
// ['2021-09-06',	555,	557,	548,	551,	3360967],
// ['2021-09-07',	552,	554,	542,	547,	3480092],
// ['2021-09-08',	547,	559,	542,	556,	7043556],
// ['2021-09-09',	554,	555,	541,	542,	4384237],
// ['2021-09-10',	545,	549,	540,	543,	2322338],
// ['2021-09-13',	545,	560,	544,	559,	4595572],
// ['2021-09-14',	560,	564,	554,	557,	7735432],
// ['2021-09-15',	558,	590,	558,	568,	26550527],
// ['2021-09-16',	563,	584,	563,	576,	15645229],
// ['2021-09-17',	579,	580,	562,	567,	9394921],
// ['2021-09-20',	560,	563,	548,	553,	8365982],
// ['2021-09-21',	562,	569,	555,	565,	8998022],
// ['2021-09-22',	568,	589,	567,	586,	13349752],
// ['2021-09-23',	590,	599,	581,	598,	12874113],
// ['2021-09-24',	599,	618,	591,	614,	12936275],
// ['2021-09-27',	619,	630,	617,	628,	12910231],
// ['2021-09-28',	632,	640,	614,	618,	18367554],
// ['2021-09-29',	614,	623,	609,	619,	9087231],
// ['2021-09-30',	624,	627,	610,	614,	10297724],
// ['2021-10-01',	611,	620,	607,	618,	5764893],
// ['2021-10-04',	619,	637,	603,	632,	46363135],
// ['2021-10-05',	632,	656,	626,	655,	15635516],
// ['2021-10-06',	661,	663,	632,	646,	16111331],
// ['2021-10-07',	647,	652,	630,	648,	11233197],
// ['2021-10-08',	634,	640,	630,	631,	8047822],
// ['2021-10-11',	639,	647,	637,	642,	6872039],
// ['2021-10-12',	638,	643,	633,	639,	4941173],
// ['2021-10-13',	639,	641,	615,	633,	7485931],
// ['2021-10-14',	638,	650,	635,	640,	10229151],
// ['2021-10-15',	644,	648,	638,	645,	6738211],
// ['2021-10-18',	647,	648,	638,	639,	5036469],
// ['2021-10-19',	641,	643,	635,	643,	5663700],
// ['2021-10-20',	640,	645,	634,	644,	5596533],
// ['2021-10-21',	639,	644,	630,	633,	4564211],
// ['2021-10-22',	632,	640,	630,	635,	3649871],
// ['2021-10-25',	639,	656,	632,	655,	9388919],
// ['2021-10-26',	655,	666,	649,	651,	8827620],
// ['2021-10-27',	647,	650,	638,	638,	6329974],
// ['2021-10-28',	638,	642,	622,	641,	8120289],
// ['2021-10-29',	640,	643,	628,	636,	4389229],
// ['2021-11-01',	637,	643,	633,	642,	3588096],
// ['2021-11-02',	643,	646,	629,	630,	5466752],
// ['2021-11-03',	627,	628,	615,	620,	5031666],
// ['2021-11-05',	613,	627,	605,	626,	4546613],
// ['2021-11-08',	633,	637,	628,	632,	4990315],
// ['2021-11-09',	632,	638,	629,	636,	4360738],
// ['2021-11-10',	638,	643,	627,	630,	5304044],
// ['2021-11-11',	631,	636,	623,	635,	5634062],
// ['2021-11-12',	633,	637,	611,	619,	7937449],
// ['2021-11-15',	618,	629,	614,	622,	3980589],
// ['2021-11-16',	625,	629,	617,	621,	3811216],
// ['2021-11-17',	621,	627,	619,	620,	4420826],
// ['2021-11-18',	618,	622,	610,	614,	4663819],
// ['2021-11-19',	618,	618,	590,	591,	8017558],
// ['2021-11-22',	590,	593,	572,	581,	12336825],
// ['2021-11-23',	578,	603,	570,	602,	12190002],
// ['2021-11-24',	604,	605,	586,	597,	5423150],
// ['2021-11-25',	599,	556,	538,	551,	3083417],
// ['2021-11-26',	579,	556,	550,	555,	9200003],
// ['2021-11-29',	567,	557,	548,	551,	7682058],
// ['2021-11-30',	565,	554,	542,	547,	10573950],
// ['2021-12-01',	573,	559,	541,	556,	6577141],
// ['2021-12-02',	572,	555,	541,	542,	10193220]];

    //лукой->
    // var globData = [['2021-09-01',	6302,	6351,	6264,	6334,	1106615],
    //                 ['2021-09-02',	6330,	6408,	6279,	6351,	1129608],
    //                 ['2021-09-03',	6364,	6366,	6301,	6330,	653587],
    //                 ['2021-09-06',	6327,	6372,	6315,	6325,	561034],
    //                 ['2021-09-07',	6335,	6339,	6269,	6280,	791670],
    //                 ['2021-09-08',	6282,	6354,	6247,	6342,	1079275],
    //                 ['2021-09-09',	6330,	6355,	6261,	6270,	827841],
    //                 ['2021-09-10',	6299,	6339,	6272,	6300,	747146],
    //                 ['2021-09-13',	6321,	6424,	6308,	6421,	805842],
    //                 ['2021-09-14',	6442,	6600,	6429,	6570,	1833094],
    //                 ['2021-09-15',	6600,	6767,	6584,	6725,	1489881],
    //                 ['2021-09-16',	6704,	6800,	6565,	6664,	1762500],
    //                 ['2021-09-17',	6672,	6673,	6565,	6601,	1332859],
    //                 ['2021-09-20',	6538,	6597,	6494,	6551,	868297],
    //                 ['2021-09-21',	6579,	6660,	6557,	6605,	917647],
    //                 ['2021-09-22',	6654,	6722,	6622,	6702,	667239],
    //                 ['2021-09-23',	6749,	6801,	6707,	6801,	966130],
    //                 ['2021-09-24',	6800,	6860,	6741,	6825,	824276],
    //                 ['2021-09-27',	6900,	7003,	6871,	6986,	1410591],
    //                 ['2021-09-28',	7015,	7142,	6964,	6968,	1472618],
    //                 ['2021-09-29',	6928,	7030,	6901,	6992,	1053957],
    //                 ['2021-09-30',	7011,	7039,	6851,	6904,	1427649],
    //                 ['2021-10-01',	6864,	6990,	6835,	6988,	697983],
    //                 ['2021-10-04',	7000,	7161,	6941,	7135,	1569230],
    //                 ['2021-10-05',	7161,	7417,	7123,	7347,	1667789],
    //                 ['2021-10-06',	7410,	7417,	7030,	7096,	1549495],
    //                 ['2021-10-07',	7132,	7190,	6985,	7165,	1282235],
    //                 ['2021-10-08',	7205,	7279,	7171,	7220,	922089],
    //                 ['2021-10-11',	7287,	7320,	7253,	7264,	733416],
    //                 ['2021-10-12',	7212,	7332,	7192,	7306,	817499],
    //                 ['2021-10-13',	7322,	7334,	7071,	7252,	1257240],
    //                 ['2021-10-14',	7290,	7319,	7172,	7215,	804831],
    //                 ['2021-10-15',	7252,	7318,	7195,	7307,	950893],
    //                 ['2021-10-18',	7323,	7364,	7272,	7319,	711222],
    //                 ['2021-10-19',	7336,	7373,	7241,	7373,	761030],
    //                 ['2021-10-20',	7360,	7460,	7320,	7439,	854248],
    //                 ['2021-10-21',	7410,	7429,	7203,	7232,	928028],
    //                 ['2021-10-22',	7215,	7315,	7172,	7200,	816459],
    //                 ['2021-10-25',	7239,	7483,	7215,	7442,	1354036],
    //                 ['2021-10-26',	7449,	7525,	7381,	7441,	1135248],
    //                 ['2021-10-27',	7405,	7487,	7322,	7324,	746235],
    //                 ['2021-10-28',	7286,	7320,	7190,	7289,	1383577],
    //                 ['2021-10-29',	7260,	7315,	7118,	7273,	1311428],
    //                 ['2021-11-01',	7261,	7328,	7242,	7293,	595014],
    //                 ['2021-11-02',	7299,	7394,	7194,	7214,	946259],
    //                 ['2021-11-03',	7193,	7203,	7125,	7175,	595102],
    //                 ['2021-11-05',	7132,	7205,	7082,	7199,	593006],
    //                 ['2021-11-08',	7244,	7275,	7202,	7209,	510146],
    //                 ['2021-11-09',	7200,	7255,	7118,	7188,	791353],
    //                 ['2021-11-10',	7210,	7266,	7120,	7138,	655388],
    //                 ['2021-11-11',	7158,	7171,	6969,	7095,	1090684],
    //                 ['2021-11-12',	7062,	7067,	6835,	6878,	1938588],
    //                 ['2021-11-15',	6852,	6980,	6815,	6919,	909015],
    //                 ['2021-11-16',	6958,	7006,	6905,	6947,	845349],
    //                 ['2021-11-17',	6942,	6950,	6840,	6885,	1144794],
    //                 ['2021-11-18',	6832,	6887,	6784,	6840,	814044],
    //                 ['2021-11-19',	6897,	6903,	6660,	6709,	1372684],
    //                 ['2021-11-22',	6690,	6757,	6532,	6576,	1753388],
    //                 ['2021-11-23',	6551,	6837,	6490,	6830,	1589774],
    //                 ['2021-11-23',	6851,	6891,	6687,	6815,	1372160],
    //                 ['2021-11-25',	6828,	6891,	6655,	6662,	1077516],
    //                 ['2021-11-26',	6470,	6517,	6336,	6374,	2172255],
    //                 ['2021-11-27',	6510,	6713,	6480,	6616,	1799724],
    //                 ['2021-11-30',	6502,	6689,	6419,	6513,	2727544],
    //                 ['2021-11-01',	6600,	6741,	6543,	6577,	1738308],
    //                 ['2021-11-02',	6612,	6768,	6558,	6732,	1462077]];
    
    // function getDataCandle(){
        
    //     var listTest = [];
    //     for (var i = 1; i<65; i++){
    //         var smallListTest = [];
    //         smallListTest.push((document.getElementById("dataTableLab6").rows[i].cells[1].innerHTML));
    //         smallListTest.push(parseInt(document.getElementById("dataTableLab6").rows[i].cells[2].innerHTML));
    //         smallListTest.push(parseInt(document.getElementById("dataTableLab6").rows[i].cells[3].innerHTML));
    //         smallListTest.push(parseInt(document.getElementById("dataTableLab6").rows[i].cells[4].innerHTML));
    //         smallListTest.push(parseInt(document.getElementById("dataTableLab6").rows[i].cells[5].innerHTML));
    //         // smallListTest.push(document.getElementById("dataTableLab6").rows[i].cells[6].innerHTML);
    //         listTest.push(smallListTest);
    //     }
    //     // alert(listTest);
    //     return(listTest);
    // }

    function getDataGraph(){
        
        var listTest = [];
        for (var i = 1; i<65; i++){
            var smallListTest = [];
            // smallListTest.push(((document.getElementById("dataTableLab6").rows[i].cells[1].innerHTML).toString().replace(/"/, "")));
            // smallListTest.push(Number(document.getElementById("dataTableLab6").rows[i].cells[6].innerHTML));
            smallListTest.push(globData[i][0]);
            smallListTest.push(globData[i][5]);
            listTest.push(smallListTest);
        }
        return(listTest);
    }

    function drawCandleChart() {
        chart = anychart.candlestick();
        var series = chart.candlestick(globData);
        chart.container('container');
        chart.draw();
    }

    function drawLineChart() {
        chart = anychart.line();
        var dataArray = getDataGraph();
        var series = chart.line(dataArray);
        chart.container('container');
        chart.draw();
    }

    function drawBar(){       
        table = anychart.data.table(0);
        table.addData(globData);  
        mapping = table.mapAs();
        mapping.addField('open', 1);
        mapping.addField('high', 2);
        mapping.addField('low', 3);
        mapping.addField('close', 4);
        var chart = anychart.stock();
        var series = chart.plot(0).ohlc(mapping);     
        chart.container('container');
        chart.draw();
    }

    function momentumChart(){
        var dataTable = anychart.data.table();
        dataTable.addData(globData);
        var mapping = dataTable.mapAs({"open": 1, "high": 2, "low": 3, "close": 4});
        var chart = anychart.stock();
        var plot_0 = chart.plot(0);
        var plot_1 = chart.plot(1);
        var ohlcSeries = plot_0.ohlc(mapping);
        ohlcSeries.name("YAND");
        var momentum = plot_1.momentum(mapping, 10).series();
        momentum.stroke("2 red");
        chart.scroller().line(mapping);
        chart.container("container");
        chart.draw();
    }

    function bollingerBands(){
        // The data used in this sample can be obtained from the CDN
// https://cdn.anychart.com/csv-data/csco-daily.js
// create data table on loaded data
        var dataTable = anychart.data.table();
        dataTable.addData(globData);

        var mapping = dataTable.mapAs({
            'open': 1,
            'high': 2,
            'low': 3,
            'close': 4,
            'value': 5
        });

        // create stock chart
        var chart = anychart.stock();

        // create ohlc series
        chart.plot(0).ohlc(mapping).name('YAND');

        // create Bollinger Bands indicator
        chart.plot(0).bbands(mapping);

        // create scroller series with mapped data
        chart.scroller().line(mapping);

        // set container id for the chart
        chart.container('container');

        // initiate chart drawing
        chart.draw();
    }

    function rsiChart(){
        // create data table on loaded data
        var dataTable = anychart.data.table();
        dataTable.addData(globData);

        // map loaded data for the ohlc series
        var mapping = dataTable.mapAs();
        mapping.addField('open', 1, 'first');
        mapping.addField('high', 2, 'max');
        mapping.addField('low', 3, 'min');
        mapping.addField('close', 4, 'last');
        mapping.addField('value', 5, 'close');

        // create stock chart
        var chart = anychart.stock();

        // create the first plot on the chart
        var plot = chart.plot(0);

        // create ohlc series
        var ohlcSeries = plot.ohlc(mapping);
        ohlcSeries.name('YAND');

        // create the second plot on the chart
        var secondPlot = chart.plot(1);
        secondPlot.height('30%');

        // create RSI indicator with period 14
        var rsi = secondPlot.rsi(mapping, 14).series();
        rsi.stroke('#64b5f6');

        // create scroller series with mapped data
        chart.scroller().line(mapping);

        // set container id for the chart
        chart.container('container');

        // initiate chart drawing
        chart.draw();
    }

    function macdChart(){
        var dataTable = anychart.data.table();
        dataTable.addData(globData);

        // map loaded data for the ohlc series
        var mapping = dataTable.mapAs();
        mapping.addField('open', 1, 'first');
        mapping.addField('high', 2, 'max');
        mapping.addField('low', 3, 'min');
        mapping.addField('close', 4, 'last');
        mapping.addField('value', 5, 'close');

        // create stock chart
        var chart = anychart.stock();

        // create the first plot on the chart
        var plot = chart.plot(0);

        // create ohlc series
        var ohlcSeries = plot.ohlc(mapping);
        ohlcSeries.name('YAND');

        // create the second plot on the chart
        var secondPlot = chart.plot(1);
        secondPlot.height('30%');

        // create MACD indicator with fast period 12, slow period 26 and signal period 9
        var macd = secondPlot.macd(mapping, 12, 26, 9);
        macd.macdSeries().stroke('#bf360c');
        macd.signalSeries().stroke('#ff6d00');
        macd.histogramSeries().fill('#ffe082');

        // create scroller series with mapped data
        chart.scroller().line(mapping);

        // set container id for the chart
        chart.container('container');

        // initiate chart drawing
        chart.draw();
    }

    function smaChart(){
        var dataTable = anychart.data.table();
        dataTable.addData(globData);

        // map loaded data
        var mapping = dataTable.mapAs({'value': 5});

        // create stock chart
        var chart = anychart.stock();

        // create plot on the chart
        var plot = chart.plot(0);

        // create line series
        var lineSeries = plot.line(mapping);
        lineSeries.name('YAND');
        lineSeries.stroke('2px #64b5f6');

        // create SMA indicators with period 20
        var sma20 = plot.sma(mapping, 20).series();
        sma20.stroke('#bf360c');

        // create scroller series with mapped data
        chart.scroller().line(mapping);

        // set container id for the chart
        chart.container('container');

        // initiate chart drawing
        chart.draw();
    }

</script>

{% endblock %}


{% block content %}
<section id="nameLab6">
    <h1>Лабораторная работа №6</h1>
    <p>Методы технического анализа</p>
</section>
<section id="mainInfLab6">
    <h5 style="font-weight: bold;">Цель работы:</h5>
    <p>Целью работы является освоение способов принятия решений на фондовом рынке в условиях неопределенности.</p>
    <h5 style="font-weight: bold;">Задачи:</h5>
    <p>1. Построить эффективные стратегии принятия решений на фондовом рынке о покупке или продаже акций выбранных эмитентов.<br>
       2. Оценить эти задачи.</p>
</section>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <section id="vizualContainerLab6">
        <div id="navGraphLab6">
            <nav class="menu">
                <ul>
                    <li>         
                        <div class="input__wrapper">
                          <input type="file" name="fileLab6" id="input__file" class="input input__file">
                          <label for="input__file" id="input_file_label">Выберите файл</label>
                          <button type="submit" id="buttonUpload">Обновить БД</button>
                        </div>
                    </li>
                    <!-- <li><a href="#">Индикаторы</a>
                        <ul>
                            <li><a href="tpr_1">SMA</a></li>
                            <li><a href="tpr_2">RSA</a></li>
                            <li><a href="#">MACD</a></li>
                            <li><a href="#">RSI</a></li>
                            <li><a href="#">BB</a></li>
                            <li><a href="#">Momentum</a></li>
                        </ul>
                    </li> -->
                    <li>
                        <select name="Индикаторы" id="">
                            <option value="0" >Индикаторы</option>
                            <option value="1" onclick="smaChart()">SMA</option>
                            <option value="3" onclick="macdChart()">MACD</option>
                            <option value="4" onclick="rsiChart()">RSI</option>
                            <option value="5" onclick="bollingerBands()">BB</option>
                            <option value="6" onclick="momentumChart()">Momentum</option>
                        </select>
                    </li>
                    <li>
                        <select name="Визуализация" id="">
                            <option value="0">Визуализация</option>
                            <option value="1" onclick="drawCandleChart()">Японские свечи</option>
                            <option value="2" onclick="drawBar()">Бары</option>
                            <option value="3" onclick="drawLineChart()">Линии</option>
                        </select>
                        <!-- <ul>
                            <li><a onclick="drawCandleChart()">Японские свечи</a></li>
                            <li><a href="#">Momentum</a></li>
                            <li><a onclick="drawGraph()">Линии</a></li>
                        </ul> -->
                    </li>
                     <button  type="button" id="buttonDraw" onclick="macdChart()">Нарисовать</button>
                </ul>
            </nav>
        </div>
        <div id="container" style="width: 100%; height: 517px;"></div>
        <table id="dataTableLab6" style="width:100%; visibility:hidden;", border="1", cellpadding="4" cellspacing="0">
            <!-- <caption>Матрица переходных вероятностей</caption> -->
            <tr>
                <th>Имя</th><th>Дата</th><th>Цена открытия</th><th>Цена max</th><th>Цена min</th><th>Цена закрытия</th><th>Значение</th>
            </tr>
            {% for el in stockData %}
                <tr>
                    <td>{{el.ticker}}</td>
                    <td>{{el.stockDate}}</td>
                    <td>{{el.stockLow}}</td>
                    <td>{{el.stockOpen}}</td>
                    <td>{{el.stockClose}}</td>
                    <td>{{el.stockHigh}}</td>                
                    <td>{{el.stockVol}}</td>
                </tr>
            {% endfor %}
        </table>
    </setion>
</form>
{% endblock %}